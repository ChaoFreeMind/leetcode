Dynamic programming: Keep track of two arrays, one of them stores the maximum contiguous subarray product including current element i, the other stores the minimum. For each element, we either ditch the previous contiguous max or min product and start with current element, or we include current element into extremum. Note that we have to compare current val times previous min and max, because either of them could results in local extremum.